<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Attempt Quiz | DSA Visualizer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/style.css"> <!-- Link to main site styles -->
    <link rel="stylesheet" href="attempt.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>

    <!-- Background Animations -->
    <div class="glow-orb orb-1"></div>
    <div class="glow-orb orb-2"></div>
    <div class="glow-orb orb-3"></div>

    <!-- Navigation -->
    <nav class="navbar glass">
        <a href="../index.html" class="logo">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" />
            </svg>
            <span>DSA</span>Visualizer
        </a>
        <div class="hamburger" id="nav-toggle">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 12h18M3 6h18M3 18h18" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
        </div>
        <!-- Centered Tools -->
        <div class="nav-center">
            <div id="quenumdiv" class="quetionnumber"
                style="display: none; color: var(--text-primary); font-size: 1.2rem; align-items: center; gap: 5px;">
                <span style="color: var(--accent-color);">Q. </span><span id="quetionnumber">num</span>
            </div>
            <div class="timer" id="timer"
                style="margin-left: 20px; display: none; color: var(--text-primary); font-weight: bold; align-items: center; gap: 5px;">
                <i class="fa-regular fa-clock"></i><span id="timeLeft"></span>
            </div>
        </div>

        <div class="nav-links" style="align-items: center;">
            <button id="submitpaper" class="btn btn-primary" style="display: none;">Submit Quiz</button>
            <a href="../index.html" class="nav-link">Home</a>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="app-container" style="display: block; overflow-y: auto; padding-top: 100px; padding-bottom: 50px;">

        <div style="display: flex; flex-direction: column; align-items: center; width: 100%;">

            <!-- Enter Link Section -->
            <div id="enterlink" class="glass topic-card"
                style="display: none; text-align: center; margin-top: 50px; border: 1px solid var(--glass-border);">
                <h3 style="color: var(--text-primary); margin-bottom: 20px;">Enter Test Code</h3>
                <div class="input-wrap" style="margin: 0 auto 20px auto; background: rgba(255,255,255,0.05);">
                    <input type="text" id="link" placeholder="Enter code here..." style="width: 100%; color: white;">
                </div>
                <button id="searchtest" class="btn btn-primary" style="width: 100%;">Enter</button>
            </div>

            <!-- Test Start Info Section -->
            <div id="teststart" class="glass topic-card"
                style="display: none; text-align: center; margin-top: 20px; max-width: 600px; width: 90%;">
                <h2 style="color: var(--accent-color); margin-bottom: 20px;">Test Found ðŸŽ¯</h2>

                <div style="text-align: left; margin-bottom: 20px; width: 100%;">
                    <h4 style="color: var(--text-secondary); margin-bottom: 5px;">Test Name</h4>
                    <div id="teststartname" class="glass"
                        style="padding: 10px; margin-bottom: 15px; color: var(--text-primary);">no test name</div>

                    <h4 style="color: var(--text-secondary); margin-bottom: 5px;">Information</h4>
                    <div id="teststartinfo" class="glass"
                        style="padding: 10px; margin-bottom: 15px; color: var(--text-primary);">no test info</div>

                    <h4 style="color: var(--text-secondary); margin-bottom: 5px;">Time Limit (Minutes)</h4>
                    <div id="teststarttime" class="glass" style="padding: 10px; color: var(--text-primary);">no test
                        time</div>
                </div>

                <div class="buttons" style="display: flex; gap: 10px; justify-content: center;">
                    <button class="btn btn-primary" id="startTestBtn">Start Test</button>
                    <button class="btn btn-ghost" id="cancelTestBtn"
                        style="color: white; border-color: white;">Cancel</button>
                </div>
            </div>

            <!-- Confirm Submit Modal -->
            <div id="confirmsubmit" class="glass topic-card"
                style="display: none; text-align: center; max-width: 500px; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1001; background: #0f172a; border: 1px solid var(--accent-color);">
                <h3 style="color: var(--text-primary); margin-bottom: 20px;">Are you sure you want to submit?</h3>
                <p style="color: var(--text-secondary); margin-bottom: 30px;">Please ensure you have attempted all the
                    questions.</p>
                <div style="display: flex; justify-content: center; gap: 15px;">
                    <button class="btn btn-primary" id="yesconfirmsubmit">Yes, Submit</button>
                    <button class="btn btn-ghost" id="cancelsubmitconfirm"
                        style="color: white; border-color: white;">Cancel</button>
                </div>
            </div>

            <!-- Submitted / Result Form -->
            <div id="submitedform" class="glass topic-card"
                style="display: none; text-align: center; margin-top: 50px; max-width: 600px; width: 90%;">
                <h1 style="color: var(--accent-color); margin-bottom: 10px;">Test Submitted!</h1>
                <h3 style="color: var(--text-primary); margin-bottom: 20px;">Thanks for completing the quiz.</h3>

                <h4 style="color: var(--text-secondary);">Your Score</h4>
                <h1 id="showscore" style="color: #4ade80; font-size: 3rem; margin: 20px 0;">0/0</h1>

                <div class="markbar"
                    style="width: 100%; height: 10px; background: rgba(255,255,255,0.1); border-radius: 5px; overflow: hidden; margin-bottom: 30px; border: none;">
                    <div id="bar" style="width: 0%; height: 100%; background: #4ade80; transition: width 1s;"></div>
                </div>

                <a class="btn btn-primary" href="../index.html">Back to Home</a>
            </div>

            <!-- Quiz Questions Container -->
            <div class="quetiontestcon" id="result"
                style="display: none; width: 100%; max-width: 800px; padding-bottom: 100px;">
                <!-- Questions will be injected here by JS -->
            </div>

        </div>

    </div>

    <!-- Notification -->
    <div id="notification" class="notification glass"
        style="background: rgba(15, 23, 42, 0.9); color: white; border: 1px solid var(--accent-color);">
        <h3 id="load" style="margin: 0; font-size: 1rem;">No notification</h3>
    </div>

    <!-- Loading Screen -->
    <div id="loading" style="display: none;" class="loading">
        <div style="text-align: center;">
            <iframe class="loadlogo"
                src="https://lottie.host/embed/0a9da3ea-6c14-48be-bb63-a4494a13464a/uOuRQtVJqH.lottie"
                style="border: none;"></iframe>
            <h2 id="loadh2" style="color: white; margin-top: 20px;">Loading...</h2>
        </div>
    </div>

    <script type="module" src="attempt.js"></script>
</body>

</html>